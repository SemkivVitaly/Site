# Проверка Port Forwarding

## Проблема (РЕШЕНА)
При переходе на http://178.67.157.66:8080 с телефона отображалась страница "EDB POSTGRES - Server is up and running." вместо приложения.

## Решение
Конфигурация перенастроена на порты 8081 (HTTP) и 8444 (HTTPS) согласно настройкам Port Forwarding на роутере.

## Диагностика

### 1. Проверка локального доступа
Локально (с компьютера сервера) все работает правильно:
- http://localhost:8080 - возвращает правильный HTML приложения
- Caddy работает корректно
- Frontend контейнер работает

### 2. Проблема с Port Forwarding
Страница "EDB POSTGRES" не является частью нашего приложения. Это означает, что:
- Порт 8080 на роутере может перенаправляться на другой сервис
- Или Port Forwarding настроен неправильно

## Решение

### Настройки Port Forwarding на роутере (НАСТРОЕНО):

1. **Внешний порт:** 8081
2. **Внутренний IP:** 192.168.0.103
3. **Внутренний порт:** 8081
4. **Протокол:** TCP

Для HTTPS:
1. **Внешний порт:** 8444
2. **Внутренний IP:** 192.168.0.103
3. **Внутренний порт:** 8444
4. **Протокол:** TCP

### Важно:
- Убедитесь, что Port Forwarding настроен именно на **192.168.0.103:8080**
- Проверьте, нет ли других правил Port Forwarding для порта 8080
- Убедитесь, что на роутере нет других сервисов, использующих порт 8080

## Проверка после настройки

После перенастройки проверьте:
1. http://178.67.157.66:8081 должен показывать приложение
2. https://178.67.157.66:8444 должен работать (если настроен HTTPS)
3. Логи Caddy не должны показывать ошибки подключения к frontend

## Настройка Firewall

Для работы с новыми портами нужно настроить Windows Firewall:
```powershell
# Запустите PowerShell от имени администратора
powershell -ExecutionPolicy Bypass -File setup-firewall-8080.ps1
```

Это создаст правила для портов 8081 и 8444.

